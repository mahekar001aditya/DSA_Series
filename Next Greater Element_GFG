class Solution {
    public ArrayList<Integer> nextLargerElement(int[] arr) {
        
        int n = arr.length;
        int top = -1;                  // stack pointer
        
        int nge[] = new int[n];        // result array
        int st[] = new int[n];         // stack array
        
        // Traverse from right → left
        for(int i = n - 1; i >= 0; i--) {
            
            // Pop all smaller or equal elements
            while(top != -1 && arr[i] >= st[top]) {
                top--;
            }
            
            // If stack empty → no greater element
            if(top == -1) {
                nge[i] = -1;
            } 
            else {
                nge[i] = st[top];      // top element is the NGE
            }
            
            // Push current element into stack
            st[++top] = arr[i];
        }
        
        // Convert answer array → ArrayList
        ArrayList<Integer> ans = new ArrayList<>();
        for(int x : nge) ans.add(x);

        return ans;
    }
}
